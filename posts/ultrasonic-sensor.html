<!DOCTYPE html>
<html lang="en">
<head>

    <!--Title and Description-->
    <title>Ultrasonic Sensor HC-SR04 Explained: How Arduino Measures Distance with Sound</title>
    <meta name="description" content="Learn how the HC-SR04 ultrasonic sensor works and how Arduino measures distance using sound waves. This chapter explains trigger/echo timing, real-world behavior, and why timing is crucial in embedded systems. Perfect for beginners.">

    <!-- Open Graph (Social Media Preview) -->
    <meta property="og:title" content="Ultrasonic Distance Measurement: How Arduino Uses HC-SR04 to â€œSeeâ€">
    <meta property="og:description" content="A simple, intuitive explanation of how the HC-SR04 ultrasonic sensor works. Learn how Arduino sends a sound pulse, listens for the echo, and converts timing into accurate distance readings.">
    <meta property="og:image" content="https://siliconpen.com/images/pathway-to-arduino/cover.webp">
    <meta property="og:url" content="https://siliconpen.com/posts/ultrasonic-sensor.html">
    <meta property="og:type" content="article">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ultrasonic Distance Measurement: How Arduino Uses HC-SR04 to â€œSeeâ€">
    <meta name="twitter:description" content="A simple, intuitive explanation of how the HC-SR04 ultrasonic sensor works. Learn how Arduino sends a sound pulse, listens for the echo, and converts timing into accurate distance readings.">
    <meta name="twitter:image" content="https://siliconpen.com/images/pathway-to-arduino/cover.webp">
    
    <!--#########################################################################################################################-->
    
    <!--Favicon-->
    <link rel="icon" href="../favicon.ico" type="image/x-icon">

    <!--Adsense-->
    <script>
    function loadAdsense() {
        let s = document.createElement("script");
        s.async = true;
        s.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3169103084290208";
        s.setAttribute("crossorigin", "anonymous");
        document.head.appendChild(s);
    }

    if (localStorage.getItem("sp_cookie_ok")) {
        loadAdsense();
    } else {
        document.addEventListener("DOMContentLoaded", () => {
        const btn = document.getElementById("cookieAccept");
        if (btn) btn.addEventListener("click", loadAdsense);
        });
    }
    </script>

    <!--Meta Data-->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!--Google Analytics-->
    <!--Google tag (gtag.js)-->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-22XHW1HR4J"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-22XHW1HR4J");
    </script>

    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!--Stylesheet-->
    <link rel="stylesheet" href="../styles.css" />
    <!--#########################################################################################################################-->

</head>

<body>

    <!--####################################################################################################################################-->
    <!--Header-->
    <div id="header"></div>

    <main class="page-main">
    <article class="container post-article">

    <!--Cover image + overlay heading-->
    <header class="post-hero-wrapper">
    <!--Cover-->
    <div class="post-hero">
        <img
        src="../images/pathway-to-arduino/cover.webp"
        alt="Post cover"
        class="post-hero-image"
        />
    </div>

    <!--Title BELOW the cover-->
    <h1 class="post-title-main">
        Ultrasonic Sensor (HC-SR04)

    <!-- Subtitle below title -->
    <p class="post-subtitle-bar">
        â€œHow Arduino Uses Sound Waves and Timing to Measure Real-World Distanceâ€
    </p>
    </header>

    <!-- Meta row: date + reading time -->
    <div class="post-meta-bar">
    <span class="post-date">Feb 17, 2026</span>
    <span class="post-reading-time" id="reading-time"></span>
    </div>
    <div class="scroll-progress-bar">
    <div class="scroll-progress-fill"></div>
    </div>

    <!-- Content box -->
    <div class="post-layout">
    <div id="post-left"></div>
    <section class="post-content-shell">
    <div class="post-main">
    <div class="post-content">

<!--#################################################################################################-->

<h1>Chapter 16</h1>
<p>So far, Arduino has been reacting to <strong>buttons and knobs.</strong><br>Now weâ€™ll make it <strong>measure distance.</strong></p>
<p>The ultrasonic sensor is perfect for this because:</p>
<ul>
<li><p>itâ€™s visual</p>
</li>
<li><p>itâ€™s intuitive</p>
</li>
<li><p>it teaches timing, not just voltage</p>
</li>
</ul>
<p>And timing is a big deal in embedded systems.</p>
<hr class="section-divider"/>

<h1>ğŸ“¡ What Is an Ultrasonic Sensor?</h1>
<p>An ultrasonic sensor measures distance using <strong>sound.</strong></p>
<p>Not audible sound â€”<br><strong>ultrasonic waves</strong> (around 40 kHz).</p>
<p>The idea is simple:</p>
<ul>
<li><p>Send out a sound pulse</p>
</li>
<li><p>Wait for it to bounce back</p>
</li>
<li><p>Measure how long it took</p>
</li>
<li><p>Convert time â†’ distance</p>
</li>
</ul>
<p>This is called <strong>time-of-flight measurement.</strong></p>
<hr class="section-divider"/>

<h1>ğŸ§  HC-SR04 Pin Overview</h1>
<p>The HC-SR04 has <strong>4 pins:</strong></p>
<ul>
<li><p>VCC â†’ 5V</p>
</li>
<li><p>Trig â†’ Trigger pin (input from Arduino)</p>
</li>
<li><p>Echo â†’ Echo pin (output to Arduino)</p>
</li>
<li><p>GND â†’ Ground</p>
</li>
</ul>
<p>Two pins control everything:</p>
<ul>
<li><p>one starts the measurement</p>
</li>
<li><p>one reports the result</p>
</li>
</ul>
<hr class="section-divider"/>

<h1>ğŸ”Œ Wiring the Sensor</h1>
<p>Connect the sensor like this:</p>
<blockquote><br>
HC-SR04 VCC  â†’ Arduino 5V<br>
HC-SR04 GND  â†’ Arduino GND<br>
HC-SR04 Trig â†’ Arduino Pin 9<br>
HC-SR04 Echo â†’ Arduino Pin 10
</blockquote>

<p>You can use any digital pins, but weâ€™ll stick with these for consistency.</p>
<hr class="section-divider"/>

<h1>âš™ï¸ How Measurement Actually Works</h1>
<p>Hereâ€™s what happens internally:</p>
<ul>
<li><p>Arduino sends a <strong>10 Âµs HIGH pulse</strong> on the Trig pin</p>
</li>
<li><p>Sensor emits <strong>8 ultrasonic bursts</strong></p>
</li>
<li><p>Sound hits an object and reflects back</p>
</li>
<li><p>Echo pin goes HIGH for the duration of the <strong>round trip</strong></p>
</li>
<li><p>Arduino measures this time</p>
</li>
</ul>
<p>Distance depends on how <strong>long Echo stays HIGH.</strong></p>
<hr class="section-divider"/>

<h1>â±ï¸ Measuring Time with <code>pulseIn()</code></h1>
<p>Arduino provides a helper function:</p>
<p><code>pulseIn(pin, HIGH);</code></p>
<p>It measures how long a pin stays HIGH (in microseconds).</p>
<p>Weâ€™ll use this to capture the echo time.</p>
<hr class="section-divider"/>

<h1>ğŸ’» Basic Distance Measurement Code</h1>
<pre><code>const int trigPin = 9;
const int echoPin = 10;

void setup() {
  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);
  Serial.begin(9600);
}

void loop() {
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);

  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);

  long duration = pulseIn(echoPin, HIGH);

  float distance = duration * 0.034 / 2;

  Serial.print("Distance: ");
  Serial.print(distance);
  Serial.println(" cm");

  delay(500);
}
</code></pre>
<hr class="section-divider"/>

<h1>ğŸ§® Where That Formula Comes From</h1>
<p>Speed of sound in air â‰ˆ 343 m/s</p>
<p>Convert to cm/Âµs:</p>
<pre>0.034 cm per microsecond</pre>


<p>We divide by 2 because:</p>
<ul>
<li><p>sound travels to the object</p>
</li>
<li><p>and back again</p>
</li>
</ul>
<hr class="section-divider"/>

<h1>ğŸ§  What You Should Observe</h1>
<ul>
<li><p>Distance updates smoothly</p>
</li>
<li><p>Close objects â†’ smaller values</p>
</li>
<li><p>Far objects â†’ larger values</p>
</li>
<li><p>No object â†’ very large or unstable readings</p>
</li>
</ul>
<p>This sensor depends heavily on environment.</p>
<hr class="section-divider"/>

<h1>âš ï¸ Common Problems &amp; Fixes</h1>
<ul>
<li><p>Always reading 0 â†’ Echo pin miswired</p>
</li>
<li><p>Huge random values â†’ no object in range</p>
</li>
<li><p>Unstable readings â†’ angled surfaces or soft materials</p>
</li>
<li><p>Wrong distance â†’ sensor too close (&lt;2 cm)</p>
</li>
</ul>
<p>Ultrasonic sensors donâ€™t see everything equally.</p>
<hr class="section-divider"/>

<h1>ğŸ“Œ What Comes Next</h1>
<p>Ultrasonic sensors are great, but they have limits.</p>
<p>Next, we look at a simpler, faster sensor that works differently:</p>
<h3>ğŸ‘‰ Next Chapter â€” IR Sensor Basics</h3>


<!--#################################################################################################-->
        
    <!--Newlettter and TOC-->
    <div id="newsletter"></div>
    </div>
    </div>
    </section>
    <aside class="post-toc">
    <div class="post-toc-title">On this page</div>
    <nav id="post-toc-list"></nav>
    </aside>
    </div>
        
    <!-- Share + next posts -->
    <section class="post-footer-extra">
    <div id="share-row"></div>
    <div class="post-related">
    <h1>Read next</h1>
    <div class="post-related-grid">
        <!--CARD 1-->
        <a href="pull-up-and-pull-down-resistors.html" class="post-related-card">
        <div class="related-thumb">
        <img src="../images/pathway-to-arduino/cover.webp" alt="Cover image">
        </div>
        <h3 class="related-title">Pull-Up and Pull-Down Resistors</h3>
        </a>
        <!--CARD 2-->
        <a href="../series/pathway-to-arduino.html" class="post-related-card">
        <div class="related-thumb">
        <img src="../images/pathway-to-arduino/cover.webp" alt="Cover image">
        </div>
        <h3 class="related-title">Pathway To Arduino: Full Series</h3>
        </a>
    </div>
    </div>
    </section>


    <section id="comments"></section>
    </article>
    </main>

    <div id="footer"></div>
    <div id="scripts"></div>

    <script src="../js/partials.js"></script>
    <script src="../js/site.js"></script>

    <script>
    loadPartial("header", "../partials/header.html", () => {
        initHeader();          // header elements now exist
    });

    loadPartial("footer", "../partials/footer.html");

    loadPartial("newsletter", "../partials/newsletter.html", () => {
        initNewsletter();
    });

    loadPartial("comments", "../partials/comments.html", () => {
        initComments();
    });

    loadPartial("share-row", "../partials/share-row.html", () => {
        initPost();
    });
    
    loadPartial("post-left", "../partials/post-left.html");

    document.addEventListener("DOMContentLoaded", () => {
        initTOC();
        initScrollProgress();
        initCookie();
        enableCodeCopy();
    });
    </script>

</body>
</html>
