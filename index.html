<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3169103084290208"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8" />
    <title>Silicon Pen — Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-22XHW1HR4J"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-22XHW1HR4J");
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- HEADER -->
    <header class="site-header">
      <div class="container header-inner">
        <a href="index.html" class="brand">
          <!-- Replace logo.png with your real logo file -->
          <img src="logo.png" alt="Silicon Pen logo" class="brand-logo" />
          <span class="brand-name">Silicon Pen</span>
        </a>

        <button class="nav-toggle" aria-label="Toggle navigation">☰</button>

        <nav class="nav-pill">
          <a href="index.html" class="nav-link nav-link-active">Home</a>
          <a href="about.html" class="nav-link">About</a>
          <a href="articles.html" class="nav-link">All Articles</a>

          <div class="nav-dropdown">
            <button class="nav-link dropdown-toggle" type="button">
              Explore ▾
            </button>
            <div class="dropdown-menu">
              <a href="references.html">References</a>
              <a href="series.html">Series</a>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="page-main">
      <!-- Two-column main layout -->
      <section class="container main-grid">

  <!-- LATEST POST -->
  <section class="latest-card-wrapper">
    <header class="section-header">
      <h2>Latest Post</h2>
    </header>

    <!-- JS will inject the latest card here -->
    <div id="latest-card-slot"></div>
  </section>

  <!-- SEE MORE -->
  <section class="see-more-wrapper" id="see-more">
    <header class="section-header see-more-header">
      <h2>See More</h2>
    </header>

    <!-- JS will inject the grid here -->
    <div class="see-more-scroll" id="see-more-slot">
      <!-- auto-filled from posts.json -->
    </div>
    <div class="home-posts-more">
    <a href="articles.html" class="btn-outline">View all articles →</a>
  </div>
  </section>
</section>


      <!-- ABOUT PREVIEW -->
      <section class="container info-section" id="about">
        <h2>
          <a href="about.html" class="section-link"> About Silicon Pen </a>
        </h2>
        <p>
          A quick intro to who I am, what Silicon Pen is about, and why this
          corner of the internet exists. For the full story, visit the dedicated
          About page.
        </p>
      </section>

      <!-- REFERENCES PREVIEW -->
      <section class="container info-section" id="references">
        <h2>
          <a href="references.html" class="section-link"> References </a>
        </h2>
        <p>
          A growing library of datasheets, papers, books, and tools I keep
          referring to when writing deep-dive articles. The full References page
          collects everything in one place.
        </p>
      </section>

      <!-- SERIES PREVIEW -->
      <section class="container info-section" id="series">
        <h2>
          <a href="series.html" class="section-link"> Series </a>
        </h2>
        <p>
          Long-form series like <em>Rant Electronics</em>, project logs, and
          story arcs live here. The Series page keeps every multi-part journey
          organized so you can follow from Episode 1.
        </p>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container footer-inner">
        <p>© 2025 SiliconPen. All rights reserved.</p>
      </div>
    </footer>

  
<script>
  // Mobile nav toggle
  const navToggle = document.querySelector('.nav-toggle');
  const navPill = document.querySelector('.nav-pill');
  const dropdownToggle = document.querySelector('.dropdown-toggle');
  const dropdownMenu = document.querySelector('.dropdown-menu');

  navToggle.addEventListener('click', () => {
    navPill.classList.toggle('nav-open');
  });

  dropdownToggle.addEventListener('click', (e) => {
    e.stopPropagation();
    dropdownMenu.classList.toggle('dropdown-open');
  });

  document.addEventListener('click', () => {
    dropdownMenu.classList.remove('dropdown-open');
  });

  // ========= HOMEPAGE AUTO-POSTS FROM posts.json =========

  async function loadPosts() {
    try {
      const res = await fetch('posts.json');
      if (!res.ok) return;

      const posts = await res.json();
      if (!Array.isArray(posts) || posts.length === 0) return;

      // Sort newest first by date (just in case)
      posts.sort((a, b) => (b.date || '').localeCompare(a.date || ''));

      const latest = posts[0];
      const others = posts.slice(1); // everything else

      renderLatest(latest);
      renderSeeMore(others);
    } catch (err) {
      console.error('Error loading posts.json', err);
    }
  }

  function renderLatest(post) {
    const slot = document.getElementById('latest-card-slot');
    if (!slot || !post) return;

    const coverHtml = post.cover
      ? `<img src="${post.cover}" alt="${post.title} cover">`
      : `<span>Cover Page</span>`;

    slot.innerHTML = `
      <a href="${post.slug}" class="latest-card">
        <div class="latest-cover">
          ${coverHtml}
        </div>
        <div class="latest-info">
          <h3 class="latest-title">${post.title}</h3>
          <p class="latest-subtitle">${post.subtitle || ''}</p>
        </div>
      </a>
    `;
  }

  function renderSeeMore(posts) {
    const slot = document.getElementById('see-more-slot');
    if (!slot || !posts || posts.length === 0) return;

    // Show up to 6 posts in the grid (2×3)
    const visible = posts.slice(0, 6);

    const html = visible.map(post => {
      const coverHtml = post.cover
        ? `<img src="${post.cover}" alt="${post.title} cover">`
        : `<span>Cover Page</span>`;

      return `
        <article class="post-card">
          <a href="${post.slug}" class="post-card-inner">
            <div class="post-cover">
              ${coverHtml}
            </div>
            <div class="post-meta">
              <h3 class="post-title">${post.title}</h3>
              <p class="post-subtitle">${post.subtitle || ''}</p>
            </div>
          </a>
        </article>
      `;
    }).join('');

    slot.innerHTML = html;
  }

  loadPosts();
</script>
  </body>
</html>
